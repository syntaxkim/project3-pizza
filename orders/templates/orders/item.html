{% extends 'base_orders.html' %}

{% block body %}

{% load static %}
<script src="{% static 'orders/item.js' %}"></script>

<h1>{{ item.name }}</h1>

<form action="{% url 'add_item' item.id %}" method="POST">
    {% csrf_token %}
    {% if item.category.name == 'Pizza' %}
        <h1>Size: {{ item.pizza.size }}</h1>
        {% if item.pizza.max_toppings == 1 %}
            <h1>Toppings: </h1>
            <select name="topping1">
            {% for topping in toppings %}
                <option value="{{ topping.id }}">{{ topping.name }}</option>
            {% endfor %}
            </select>
        {% endif %}
        {% if item.pizza.max_toppings == 2 %}
            <select name="topping1">
            {% for topping in toppings %}
                <option value="{{ topping.id }}">{{ topping.name }}</option>
            {% endfor %}
            </select>
            <select name="topping2">
            {% for topping in toppings %}
                <option value="{{ topping.id }}">{{ topping.name }}</option>
            {% endfor %}
            </select>
        {% endif %}
        {% if item.pizza.max_toppings == 3 %}
            <select name="topping1">
            {% for topping in toppings %}
                <option value="{{ topping.id }}">{{ topping.name }}</option>
            {% endfor %}
            </select>
            <select name="topping2">
            {% for topping in toppings %}
                <option value="{{ topping.id }}">{{ topping.name }}</option>
            {% endfor %}
            </select>
            <select name="topping3">
            {% for topping in toppings %}
                <option value="{{ topping.id }}">{{ topping.name }}</option>
            {% endfor %}
            </select>
        {% endif %}
    {% endif %}

    {% if item.category.name == 'Sub' %}
        <h1>Size: {{ item.sub.size }}</h1>
        <h1>{{ extra_cheese.name }} (+<span id="extra_cheese_price">{{ extra_cheese.price }}</span>)</h1>
        <input name="extra_cheese" id="extra_cheese" type="checkbox">
    {% endif %}

    {% if item.category.name == 'Dinner Platter' %}
        <h1>Size: {{ item.dinner.size }}</h1>
    {% endif %}

    <h1>Quantity: </h1>
    <input name="quantity" id="quantity" type="number" value=1 min=1>

    <h1>Price: <div id="price">{{ item.price }}</div></h1>

    <input type="submit" value="Add to Cart">
</form>

{% endblock %}